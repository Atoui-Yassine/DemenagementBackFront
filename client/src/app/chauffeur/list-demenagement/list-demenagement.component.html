<!-- list-demenagement.component.html -->
<div class="container">
    <div class="row">
      <div class="app-page-title" style="margin: 0%; width: 100%;">
        <div class="page-title-wrapper">
          <div class="page-title-heading">
            <div class="page-title-icon">
              <i class="bi bi-truck icon-gradient bg-premium-dark"></i>
            </div>
            <div>Liste des déménagements
              <div class="page-title-subheading">Consulter la liste des déménagements.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
  
  <div class="main-card mb-3 card">
    <div class="card-body">
      <br>
      <table style="width: 100%;" id="example" class="table table-hover table-striped table-bordered">
        <thead>
          <tr>
            <th>Date</th>
            <th>Adresse de Départ</th>
            <th>Adresse de Fin</th>
            <th>Catégorie de Meubles</th>
            <th>Statut</th>
            <th>Camion</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let reservation of reservations">
            <td>{{reservation.date}}</td>
            <td>{{reservation.startAddress}}</td>
            <td>{{reservation.endAddress}}</td>
            <td>{{reservation.furnitureCategory}}</td>
            <td>{{reservation.status}}</td>
            <td>{{reservation.camion!.marque }}  {{reservation.camion!.modele}}</td>
            <td>
              <button class="mr-2 btn btn-outline-success" *ngIf="(reservation.status === 'PENDING')" (click)="changeStatus(reservation.id,'ACCEPTER')">
                <i class="bi bi-check-circle-fill"></i> Accepter
              </button>
              <button class="mr-2 btn btn-outline-danger" *ngIf="(reservation.status === 'PENDING')" (click)="changeStatus(reservation.id, 'REJETER')">
                <i class="bi bi-x-circle-fill"></i> Rejeter
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  